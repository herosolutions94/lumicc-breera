{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Desktop/lumicc-breera/src/components/pages/post-comment.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { checkPattern, postData, objToFormData } from \"../../helpers/api\";\nimport { useForm } from \"react-hook-form\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction PostComment(props) {\n  _s();\n\n  const [comment, setComment] = useState({\n    name: '',\n    email: '',\n    comments: ''\n  });\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n\n  function onSubmit() {\n    if (comment.name_error === true || comment.name === '') {\n      setComment({ ...comment,\n        name_error: true,\n        name_msg: \"Required\"\n      });\n    } else if (comment.email_error === true || comment.email === '') {\n      setComment({ ...comment,\n        email_error: true,\n        email_error_msg: \"Enter a valid email address\"\n      });\n    } else if (comment.comment_error === true || comment.comments === '') {\n      setComment({ ...comment,\n        comment_error: true,\n        comment_msg: \"Required\"\n      });\n    } else {\n      setComment({ ...comment,\n        btn_loading: true\n      });\n      let comment_data = objToFormData(comment);\n      postData(\"blog-reviews\", comment_data, props.blog_id).then(data => {\n        if (data.status == 1) {\n          setComment({ ...comment,\n            btn_loading: false,\n            email: \"\",\n            name: '',\n            comments: ''\n          });\n          document.getElementById(\"comments\").value = \"\";\n          toast.success(`${data.msg}`, {\n            position: \"bottom-right\",\n            autoClose: 1000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined\n          });\n        } else {\n          setComment({ ...comment,\n            btn_loading: false\n          });\n          toast.error(`${data.msg}`, {\n            position: \"bottom-right\",\n            autoClose: 2000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined\n          });\n        }\n      });\n    }\n  }\n\n  function handleCommentChange(e) {\n    if (e.target.name === 'name') {\n      if (e.target.value === \"\") {\n        setComment({ ...comment,\n          [e.target.name]: e.target.value,\n          name_error: true,\n          name_msg: \"Required\"\n        });\n      } else {\n        setComment({ ...comment,\n          [e.target.name]: e.target.value,\n          name_error: false,\n          name_msg: \"\"\n        });\n      }\n    }\n\n    if (e.target.name === 'email') {\n      let email_chk = checkPattern(e.target.value, /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,})+$/);\n\n      if (email_chk === false) {\n        if (e.target.value === '') {\n          setComment({ ...comment,\n            email_error: false\n          });\n        } else {\n          setComment({ ...comment,\n            [e.target.name]: e.target.value,\n            email_error: true,\n            email_error_msg: \"Invalid e-mail address\"\n          });\n        }\n      } else {\n        setComment({ ...comment,\n          [e.target.name]: e.target.value,\n          email_error: false,\n          email_error_msg: \"\"\n        });\n      }\n    }\n\n    if (e.target.name === 'comments') {\n      if (e.target.value === \"\") {\n        setComment({ ...comment,\n          [e.target.name]: e.target.value,\n          comment_error: true,\n          comment_msg: \"Required\"\n        });\n      } else {\n        setComment({ ...comment,\n          [e.target.name]: e.target.value,\n          comment_error: false,\n          comment_msg: \"\"\n        });\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post_cmnt_form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"heading\",\n      children: \"Post a reply\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      method: \"post\",\n      id: \"frmReport\",\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form_row row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-xs-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form_blk\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Your name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"name\",\n              id: \"name\",\n              value: comment.name,\n              onChange: handleCommentChange,\n              className: comment.name_error === true ? \"input error\" : 'input'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this), comment.name_error === true ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"error\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fi-warning\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 41\n              }, this), \" \", comment.name_msg]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 37\n            }, this) : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-xs-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form_blk\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Email Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"email\",\n              id: \"email\",\n              value: comment.email,\n              onChange: handleCommentChange,\n              className: comment.email_error === true ? \"input error\" : 'input'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 29\n            }, this), comment.email_error === true ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"error\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fi-warning\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 41\n              }, this), \" \", comment.email_error_msg]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 37\n            }, this) : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-xs-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form_blk\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Leave a comment here\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"comments\",\n              id: \"comments\",\n              className: comment.comment_error === true ? \"input error\" : 'input',\n              onChange: handleCommentChange,\n              children: comment.comments\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 29\n            }, this), comment.comment_error === true ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"error\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fi-warning\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 41\n              }, this), \" \", comment.comment_msg]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 37\n            }, this) : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"btn_blk blog_story_btn text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"site_btn border blank\",\n          disabled: comment.btn_loading === true ? 'disabled' : '',\n          children: [\"Submit Comment  \", comment.btn_loading === true ? /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 75\n          }, this) : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PostComment, \"119CySqJzP+ex/3cf/2T8yTgYc0=\", false, function () {\n  return [useForm];\n});\n\n_c = PostComment;\nexport default PostComment;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostComment\");","map":{"version":3,"sources":["/Users/macbook/Desktop/lumicc-breera/src/components/pages/post-comment.jsx"],"names":["React","useState","checkPattern","postData","objToFormData","useForm","ToastContainer","toast","PostComment","props","comment","setComment","name","email","comments","register","handleSubmit","formState","errors","onSubmit","name_error","name_msg","email_error","email_error_msg","comment_error","comment_msg","btn_loading","comment_data","blog_id","then","data","status","document","getElementById","value","success","msg","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","error","handleCommentChange","e","target","email_chk"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { checkPattern, postData, objToFormData } from \"../../helpers/api\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction PostComment(props) {\r\n    const [comment, setComment] = useState({\r\n        name: '',\r\n        email: '',\r\n        comments: ''\r\n    });\r\n    const { register, handleSubmit, formState: { errors } } = useForm();\r\n    function onSubmit() {\r\n\r\n        if (comment.name_error === true || comment.name === '') {\r\n            setComment({ ...comment, name_error: true, name_msg: \"Required\" });\r\n        }\r\n        else if (comment.email_error === true || comment.email === '') {\r\n            setComment({ ...comment, email_error: true, email_error_msg: \"Enter a valid email address\" });\r\n        }\r\n        else if (comment.comment_error === true || comment.comments === '') {\r\n            setComment({ ...comment, comment_error: true, comment_msg: \"Required\" });\r\n        }\r\n        else {\r\n            setComment({ ...comment, btn_loading: true });\r\n            let comment_data = objToFormData(comment)\r\n            postData(\"blog-reviews\", comment_data, props.blog_id).then((data) => {\r\n                if (data.status == 1) {\r\n                    setComment({ ...comment, btn_loading: false, email: \"\", name: '', comments: '' });\r\n                    document.getElementById(\"comments\").value = \"\";\r\n                    toast.success(`${data.msg}`, {\r\n                        position: \"bottom-right\",\r\n                        autoClose: 1000,\r\n                        hideProgressBar: false,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true,\r\n                        progress: undefined,\r\n                    });\r\n                }\r\n                else {\r\n                    setComment({ ...comment, btn_loading: false });\r\n                    toast.error(`${data.msg}`, {\r\n                        position: \"bottom-right\",\r\n                        autoClose: 2000,\r\n                        hideProgressBar: false,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true,\r\n                        progress: undefined,\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n    function handleCommentChange(e) {\r\n        if (e.target.name === 'name') {\r\n            if (e.target.value === \"\") {\r\n                setComment({ ...comment, [e.target.name]: e.target.value, name_error: true, name_msg: \"Required\" });\r\n            }\r\n            else {\r\n                setComment({ ...comment, [e.target.name]: e.target.value, name_error: false, name_msg: \"\" });\r\n            }\r\n        }\r\n\r\n        if (e.target.name === 'email') {\r\n\r\n            let email_chk = checkPattern(e.target.value, /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,})+$/);\r\n\r\n            if (email_chk === false) {\r\n                if (e.target.value === '') {\r\n                    setComment({ ...comment, email_error: false });\r\n                }\r\n                else {\r\n                    setComment({ ...comment, [e.target.name]: e.target.value, email_error: true, email_error_msg: \"Invalid e-mail address\" });\r\n                }\r\n\r\n            }\r\n            else {\r\n                setComment({ ...comment, [e.target.name]: e.target.value, email_error: false, email_error_msg: \"\" });\r\n            }\r\n\r\n        }\r\n        if (e.target.name === 'comments') {\r\n            if (e.target.value === \"\") {\r\n                setComment({ ...comment, [e.target.name]: e.target.value, comment_error: true, comment_msg: \"Required\" });\r\n            }\r\n            else {\r\n                setComment({ ...comment, [e.target.name]: e.target.value, comment_error: false, comment_msg: \"\" });\r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"post_cmnt_form\">\r\n            <h2 className=\"heading\">Post a reply</h2>\r\n            <ToastContainer />\r\n            <form method=\"post\" id=\"frmReport\" onSubmit={handleSubmit(onSubmit)}>\r\n                <div className=\"form_row row\">\r\n                    <div className=\"col-xs-6\">\r\n                        <div className=\"form_blk\">\r\n                            <p>Your name</p>\r\n                            <input type=\"text\" name=\"name\" id=\"name\" value={comment.name} onChange={handleCommentChange} className={(comment.name_error === true) ? \"input error\" : 'input'} />\r\n                            {\r\n                                (comment.name_error === true) ?\r\n                                    <p className=\"error\">\r\n                                        <i className=\"fi-warning\"></i> {comment.name_msg}\r\n                                    </p>\r\n                                    :\r\n                                    \"\"\r\n\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-xs-6\">\r\n                        <div className=\"form_blk\">\r\n                            <p>Email Address</p>\r\n                            <input type=\"text\" name=\"email\" id=\"email\" value={comment.email} onChange={handleCommentChange} className={(comment.email_error === true) ? \"input error\" : 'input'} />\r\n                            {\r\n                                (comment.email_error === true) ?\r\n                                    <p className=\"error\">\r\n                                        <i className=\"fi-warning\"></i> {comment.email_error_msg}\r\n                                    </p>\r\n                                    :\r\n                                    \"\"\r\n\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-xs-12\">\r\n                        <div className=\"form_blk\">\r\n                            <p>Leave a comment here</p>\r\n                            <textarea name=\"comments\" id=\"comments\" className={(comment.comment_error === true) ? \"input error\" : 'input'} onChange={handleCommentChange}>{comment.comments}</textarea>\r\n                            {\r\n                                (comment.comment_error === true) ?\r\n                                    <p className=\"error\">\r\n                                        <i className=\"fi-warning\"></i> {comment.comment_msg}\r\n                                    </p>\r\n                                    :\r\n                                    \"\"\r\n\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"btn_blk blog_story_btn text-center\">\r\n                    <button class=\"site_btn border blank\" disabled={(comment.btn_loading === true) ? 'disabled' : ''}>\r\n                        Submit Comment  {(comment.btn_loading === true) ? <i className=\"spinner\"></i> : ''}\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\nexport default PostComment;"]},"metadata":{},"sourceType":"module"}